(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABDCAYAAADHyrhzAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABQNJREFUeNrsWz9v01AQd1BAYkqQEGJrGBiYEpiQEEqQmIn7Cep8AtyRoW3oF8D9BHUXVlKxsdSRihhJFwYkRPINUgmJAaFwV36Hrg87dUhs1eY96fTqxPa7+737+3KtzGYzx47f44qFwIJhwbBgWDAsGBYMC4YFI/tRnfdlfXu7TlMr4evxdHd3fNkEIp6Z33rcd8RvNO/ZiqTjeEkHwjM1U64/IRoR8UIRLTjKSei64lfmWsrHh+CZaUA8T8/AqG1teTT3idZiHjphQJP4SQDslBcgCi/aiX8EwAV1E9aetxlJgLGcHoMxUzscgUZpd5gYbKjdcQ1Q+Z19ele4JAi8hs8MG8IMDZ6nKd+nNaqDdw7/gEEvqqxo94RxDQzvmL8oKNCEgGjDACDU6r0kvwzGEb+3umpbhlNlMHxayMPfbE77dM3m6KUxH7rXh/mKJhwwMFn6pGqWTg6aEAIU8UtHdL0H85kmaNZA+aMhAMw8cuWSZzAoRCzkS3z0nO0cEUwD4cEBNuFv1um5Tl4hPNeki4Ri7bgPQZsaEJrZN+zDLA7ZwdH9g1JnoLD5FgRmwT8SEMfQFh6bdI+7CudYiHScBWWB4RR5PCL6TtSjzwNbmzjO9TkJXrnBQOiU/OEt5tB0qqUHA4nOK1yyaTyDybAPGSDZKj8YEFSixJ7KSn3UCGvIMP8LzQilFiAgfO1UUXtw6t4l0NxSgwHz6EJgLyHs9pX/qJdZM0T9g6SsEqF1CO3xSwkGUm32BxNkovOGfL+DWqV0mtE35nlJWaQSMr9UYBhakTZSSCbq5eU78tIML61WGM5UfIdbCjBg821cLlqFhnmaSjWHNWRXD6QSBUD8OYdabQIcYdhfDFDMhSjtm/xM1ucaeZhJBzOfXdSJeLe/Ih3vQmuENnCmMcYRoQNw9HsKDYYc6X/BzktxxtFiHYc9N4ie8FkGUvIawioD8S4vMKoZ+wupQD+jMq05yWeaEShAKh5CW26VRTMEjAaAOEhzponjvga05B7RDyf+R65CgSHZ4zUUZl5cFYuaxQREF25XVW1T2GjyNCbX0CYUSNila/EjvkQdzjUQTXbksSJrxk3M77VpAIhI5R8yNlT0MDNRHg+LDIbs5OsYAWswgU1EkkN818SRoDaXCS5vF9lM5KfBT8bnbVXKByoPkR+QXEMjxnCgjSJrxjeinxAmbowuuJbxwZgLCcZdogcxofTUrDngR1ylCTqyvKDpMeZimgnsfZpQnnOEaBMIYwivG0nCmHcdl+lwRwvWRybqwBe0FRC9VXf8XGowAAgnUD3kFgwMtyncWbbL57KX8OIPfMdoNpH+jTnPcaLm4nfZ0mhGSxKqtCk1Svh9J76RLXvNUH2fHcT0hpEXyBgqry8HMokNZjik6QAQ7txh0+jHFWy4r6/W7KXQuhZ47ahkr2lEr5EK32Pwe8436W6/Eyd972fSOAEwYVzvFXZ7x7h/pKJJyznfFOeZDSuq/bGDubYCnlnuoQZDIxhhnsbtuNIgrUlmj+UE/iDQz+PIrz9HkKTnxO+4MetESkNjO4GxrpDwrDf/DAwfQg2W7aQDw57zd9vjQFejhkmcsyiThxizkd0MwfN4CX51l3FUyeq/FyGErxzgKTFeX/AdDOobBapozDgLnitZ/ysn1DMQ1VxEEHX8F5hmU0gwijTs/5tYMCwYFgwLhgXDgmHBsGBYMPIdvwQYACs8MWAZ1vbcAAAAAElFTkSuQmCC"},12:function(t,e,n){t.exports=n(24)},18:function(t,e,n){},23:function(t,e,n){},24:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(9),o=n.n(i),c=(n(18),n(3)),l=n(4),s=n(6),d=n(5),u=n(7),f=n(2),h=n(10),m=n.n(h),g=n(1),p=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(s.a)(this,Object(d.a)(e).call(this,t))).chartRef=Object(a.createRef)(),n}return Object(u.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.props.data&&this.initChart(this.props.data)}},{key:"componentDidUpdate",value:function(t){var e=this;t.data!==this.props.data&&(Array.from(this.chartRef.current.childNodes).forEach(function(t){e.chartRef.current.removeChild(t)}),this.initChart(this.props.data))}},{key:"formatData",value:function(t){var e=[],n=[];return Object.keys(t.nodes).forEach(function(n,a){t.nodes[n].forEach(function(t){e.push({id:t.id,group:a+1,name:"[".concat(n,"]_").concat(t.name||" ")})})}),t.edges.forEach(function(t){n.push({source:t.from.id,target:t.to.id})}),{nodes:e,links:n}}},{key:"color",value:function(){var t=g.g(g.h);return function(e){return t(e.group)}}},{key:"renderChart",value:function(t){var e=t.links.map(function(t){return Object.create(t)}),n=t.nodes.map(function(t){return Object.create(t)}),a=g.f(n).force("link",g.d(e).id(function(t){return t.id})).force("charge",g.e()).force("center",g.c(570,300)),r=g.i(this.chartRef.current),i=r.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(e).join("line").attr("stroke-width",function(t){return Math.sqrt(t.value)}),o=r.append("g").attr("stroke","#fff").attr("stroke-width",1.5).selectAll("circle").data(n).join("circle").attr("r",10).attr("fill",this.color()).call(this.drag(a));o.append("title").text(function(t){return t.name+"_"+t.id});var c=r.append("g").selectAll("text").data(n).enter().append("text").style("file","#0000ff").attr("width",10).attr("height",10).text(function(t){return t.name+"_"+t.id.substr(-10)});return a.on("tick",function(){i.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),o.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),c.attr("x",function(t){return t.x}).attr("y",function(t){return t.y})}),r.node()}},{key:"drag",value:function(t){return g.a().on("start",function(e){g.b.active||t.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y}).on("drag",function(t){t.fx=g.b.x,t.fy=g.b.y}).on("end",function(e){g.b.active||t.alphaTarget(0),e.fx=null,e.fy=null})}},{key:"initChart",value:function(t){this.renderChart(this.formatData(t))}},{key:"render",value:function(){return r.a.createElement("svg",{ref:this.chartRef,style:{width:1140,height:600,backgroundImage:"linear-gradient(120deg, #fdfbfb 0%, #ebedee 100%)"}})}}]),e}(a.PureComponent);p.defaultProps={data:null};var y=p,A=(n(22),n(23),n(11)),E=n.n(A);var v=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(s.a)(this,Object(d.a)(e).call(this,t))).state={data:null},n.handleFormat=n.handleFormat.bind(Object(f.a)(Object(f.a)(n))),n}return Object(u.a)(e,t),Object(l.a)(e,[{key:"handleFormat",value:function(){var t=document.getElementsByTagName("textarea")[0].value;if(function(t){try{if("object"==typeof JSON.parse(t))return!0}catch(e){}return!1}(t)){var e=JSON.parse(t);Object.keys(e).includes("solutionPath")&&(e=e.solutionPath),["nodes","edges"].every(function(t){return e[t]})?this.setState({data:e}):alert("\u6570\u636e\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u7f3a\u5c11nodes\u3001edges")}else alert("JSON\u6570\u636e\u683c\u5f0f\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5")}},{key:"render",value:function(){var t=this.state.data;return r.a.createElement("div",{className:"App"},r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement("a",{className:"navbar-brand",href:"#"},r.a.createElement("img",{src:E.a,width:"30",height:"30",style:{marginRight:12},className:"d-inline-block align-top",alt:""}),"Data visualization for SolutionPath")),r.a.createElement("main",null,r.a.createElement("div",{style:{textAlign:"center"}},t&&r.a.createElement(y,{data:t})),r.a.createElement("div",{className:"container no-padding"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"card no-padding"},r.a.createElement("textarea",{className:"form-control",placeholder:'\n                  \u8bf7\u8f93\u5165 solution path \u6570\u636e\uff0c\u683c\u5f0f\u53c2\u8003\n\n                  {\n                    "throttle": true,\n                    "maxWaitingRequest": 1000,\n                    "nodes": {\n                      "entry": [{\n                        "id": "UUID1",\n                        "name": "Entry",\n                        "description": "",\n                        "config": {\n                          "outputSlot": [{\n                            "key": "image",\n                            "type": "file"\n                          }]\n                        }\n                      }],\n                      "exit": [{\n                        "id": "UUID2",\n                        "name": "Exit",\n                        "description": "",\n                        "config": {\n                          "inputSlot": [{\n                            "key": "results"\n                          }]\n                        }\n                      }],\n                      "code": [{\n                        "id": "UUID3",\n                        "name": "code demo",\n                        "description": "",\n                        "type": "py",\n                        "config": {\n                          "fileName": "name/of/the/file/include/extension",\n                          "inputSlot": [{\n                            "key": "p1"\n                          }],\n                          "outputSlot": [{}]\n                        }\n                      }],\n                      "model": [],\n                      "static": []\n                    },\n                    "edges": [{\n                        "from": {\n                          "id": "UUID1",\n                          "slot": 0\n                        },\n                        "to": {\n                          "id": "UUID3",\n                          "slot": 0\n                        }\n                      },\n                      {\n                        "from": {\n                          "id": "UUID3",\n                          "slot": 0\n                        },\n                        "to": {\n                          "id": "UUID2",\n                          "slot": 0\n                        }\n                      }\n                    ]\n                  }\n                '})),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleFormat},"Start format")),r.a.createElement("div",{className:"card no-padding"},r.a.createElement(m.a,{id:"json-pretty",data:t}))))))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[12,1,2]]]);
//# sourceMappingURL=main.d0ddcf67.chunk.js.map