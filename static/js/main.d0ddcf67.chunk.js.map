{"version":3,"sources":["favicon.png","ChartView.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","ChartView","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","chartRef","createRef","data","initChart","prevProps","_this2","Array","from","current","childNodes","forEach","c","removeChild","nodes","links","keys","key","i","n","push","id","group","name","concat","edges","e","source","target","to","scale","d3","d","map","create","simulation","force","width","height","svg","link","append","attr","selectAll","join","Math","sqrt","value","node","color","drag","text","enter","style","substr","on","x","y","active","alphaTarget","restart","fx","fy","renderChart","formatData","react_default","a","createElement","ref","backgroundImage","PureComponent","defaultProps","App","state","handleFormat","bind","assertThisInitialized","sourceData","document","getElementsByTagName","str","JSON","parse","isJsonString","includes","solutionPath","every","setState","alert","className","href","src","Logo","marginRight","alt","textAlign","src_ChartView","placeholder","onClick","JSONPretty_default","Component","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d0ddcf67.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABDCAYAAADHyrhzAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABQNJREFUeNrsWz9v01AQd1BAYkqQEGJrGBiYEpiQEEqQmIn7Cep8AtyRoW3oF8D9BHUXVlKxsdSRihhJFwYkRPINUgmJAaFwV36Hrg87dUhs1eY96fTqxPa7+737+3KtzGYzx47f44qFwIJhwbBgWDAsGBYMC4YFI/tRnfdlfXu7TlMr4evxdHd3fNkEIp6Z33rcd8RvNO/ZiqTjeEkHwjM1U64/IRoR8UIRLTjKSei64lfmWsrHh+CZaUA8T8/AqG1teTT3idZiHjphQJP4SQDslBcgCi/aiX8EwAV1E9aetxlJgLGcHoMxUzscgUZpd5gYbKjdcQ1Q+Z19ele4JAi8hs8MG8IMDZ6nKd+nNaqDdw7/gEEvqqxo94RxDQzvmL8oKNCEgGjDACDU6r0kvwzGEb+3umpbhlNlMHxayMPfbE77dM3m6KUxH7rXh/mKJhwwMFn6pGqWTg6aEAIU8UtHdL0H85kmaNZA+aMhAMw8cuWSZzAoRCzkS3z0nO0cEUwD4cEBNuFv1um5Tl4hPNeki4Ri7bgPQZsaEJrZN+zDLA7ZwdH9g1JnoLD5FgRmwT8SEMfQFh6bdI+7CudYiHScBWWB4RR5PCL6TtSjzwNbmzjO9TkJXrnBQOiU/OEt5tB0qqUHA4nOK1yyaTyDybAPGSDZKj8YEFSixJ7KSn3UCGvIMP8LzQilFiAgfO1UUXtw6t4l0NxSgwHz6EJgLyHs9pX/qJdZM0T9g6SsEqF1CO3xSwkGUm32BxNkovOGfL+DWqV0mtE35nlJWaQSMr9UYBhakTZSSCbq5eU78tIML61WGM5UfIdbCjBg821cLlqFhnmaSjWHNWRXD6QSBUD8OYdabQIcYdhfDFDMhSjtm/xM1ucaeZhJBzOfXdSJeLe/Ih3vQmuENnCmMcYRoQNw9HsKDYYc6X/BzktxxtFiHYc9N4ie8FkGUvIawioD8S4vMKoZ+wupQD+jMq05yWeaEShAKh5CW26VRTMEjAaAOEhzponjvga05B7RDyf+R65CgSHZ4zUUZl5cFYuaxQREF25XVW1T2GjyNCbX0CYUSNila/EjvkQdzjUQTXbksSJrxk3M77VpAIhI5R8yNlT0MDNRHg+LDIbs5OsYAWswgU1EkkN818SRoDaXCS5vF9lM5KfBT8bnbVXKByoPkR+QXEMjxnCgjSJrxjeinxAmbowuuJbxwZgLCcZdogcxofTUrDngR1ylCTqyvKDpMeZimgnsfZpQnnOEaBMIYwivG0nCmHcdl+lwRwvWRybqwBe0FRC9VXf8XGowAAgnUD3kFgwMtyncWbbL57KX8OIPfMdoNpH+jTnPcaLm4nfZ0mhGSxKqtCk1Svh9J76RLXvNUH2fHcT0hpEXyBgqry8HMokNZjik6QAQ7txh0+jHFWy4r6/W7KXQuhZ47ahkr2lEr5EK32Pwe8436W6/Eyd972fSOAEwYVzvFXZ7x7h/pKJJyznfFOeZDSuq/bGDubYCnlnuoQZDIxhhnsbtuNIgrUlmj+UE/iDQz+PIrz9HkKTnxO+4MetESkNjO4GxrpDwrDf/DAwfQg2W7aQDw57zd9vjQFejhkmcsyiThxizkd0MwfN4CX51l3FUyeq/FyGErxzgKTFeX/AdDOobBapozDgLnitZ/ysn1DMQ1VxEEHX8F5hmU0gwijTs/5tYMCwYFgwLhgXDgmHBsGBYMPIdvwQYACs8MWAZ1vbcAAAAAElFTkSuQmCC\"","import React, {PureComponent, createRef} from 'react';\nimport PropTypes from 'prop-types';\nimport * as d3 from 'd3';\n\nclass ChartView extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.chartRef = createRef();\n  }\n  \n  componentDidMount() {\n    if (this.props.data) {\n      this.initChart(this.props.data);\n    }\n  }\n  \n  componentDidUpdate(prevProps) {\n    if (prevProps.data !== this.props.data) {\n      const childs = Array.from(this.chartRef.current.childNodes);\n      childs.forEach(c => {\n        this.chartRef.current.removeChild(c);\n      })\n      this.initChart(this.props.data);\n    }\n  }\n\n  formatData(data) {\n    const nodes = [];\n    const links = [];\n    Object.keys(data.nodes).forEach((key, i) => {\n      data.nodes[key].forEach((n) => {\n        nodes.push({\n          id: n.id,\n          group: i + 1,\n          name: `[${key}]_${n.name || ' '}`,\n        });\n      });\n    });\n\n    data.edges.forEach(e => {\n      links.push({\n        source: e.from.id,\n        target: e.to.id,\n      });\n    });\n\n    return {\n      nodes,\n      links,\n    };\n  }\n  \n  color() {\n    const scale = d3.scaleOrdinal(d3.schemeCategory10);\n    return d => scale(d.group);\n  }\n\n  renderChart(data) {\n    const width = 1140;\n    const height = 600;\n\n    const links = data\n      .links\n      .map(d => Object.create(d));\n    const nodes = data\n      .nodes\n      .map(d => Object.create(d));\n    const simulation = d3\n      .forceSimulation(nodes)\n      .force(\"link\", d3.forceLink(links).id(d => d.id))\n      .force(\"charge\", d3.forceManyBody())\n      .force(\"center\", d3.forceCenter(width / 2, height / 2));\n\n\n    const svg = d3.select(this.chartRef.current);\n    const link = svg\n      .append(\"g\")\n      .attr(\"stroke\", \"#999\")\n      .attr(\"stroke-opacity\", 0.6)\n      .selectAll(\"line\")\n      .data(links)\n      .join(\"line\")\n      .attr(\"stroke-width\", d => Math.sqrt(d.value));\n\n    const node = svg\n      .append(\"g\")\n      .attr(\"stroke\", \"#fff\")\n      .attr(\"stroke-width\", 1.5)\n      .selectAll(\"circle\")\n      .data(nodes)\n      .join(\"circle\")\n      .attr(\"r\", 10)\n      .attr(\"fill\", this.color())\n      .call(this.drag(simulation));\n\n      node\n      .append(\"title\")\n      .text(d => d.name + '_' + d.id);\n    \n    const text = svg\n      .append('g')\n      .selectAll('text')\n      .data(nodes)\n      .enter()\n      .append('text')\n      .style('file', '#0000ff')\n      .attr('width', 10)\n      .attr('height', 10)\n      .text(d => d.name + '_' + d.id.substr(-10));\n\n    simulation.on(\"tick\", () => {\n      link\n        .attr(\"x1\", d => d.source.x)\n        .attr(\"y1\", d => d.source.y)\n        .attr(\"x2\", d => d.target.x)\n        .attr(\"y2\", d => d.target.y);\n      node\n        .attr(\"cx\", d => d.x)\n        .attr(\"cy\", d => d.y);\n      text\n        .attr('x', d => d.x)\n        .attr('y', d => d.y);\n    });\n    // invalidation.then(() => simulation.stop());\n    return svg.node();\n  }\n\n  drag(simulation) {\n    function dragstarted(d) {\n      if (!d3.event.active) \n        simulation.alphaTarget(0.3).restart();\n      d.fx = d.x;\n      d.fy = d.y;\n    }\n    function dragged(d) {\n      d.fx = d3.event.x;\n      d.fy = d3.event.y;\n    }\n    function dragended(d) {\n      if (!d3.event.active) \n        simulation.alphaTarget(0);\n      d.fx = null;\n      d.fy = null;\n    }\n    return d3\n      .drag()\n      .on(\"start\", dragstarted)\n      .on(\"drag\", dragged)\n      .on(\"end\", dragended);\n  }\n\n  initChart(data) {\n    // d3.json(\"https://gist.githubusercontent.com/mbostock/4062045/raw/5916d145c8c048a6e3086915a6be464467391c62/miserables.json\").then((data) => {\n    //   this.renderChart(data);\n    // });\n\n    this.renderChart(this.formatData(data));\n  };\n\n  render() {\n    return (<svg\n      ref={this.chartRef}\n      style={{\n      width: 1140,\n      height: 600,\n      backgroundImage: \"linear-gradient(120deg, #fdfbfb 0%, #ebedee 100%)\"\n    }}/>);\n  }\n}\n\nChartView.defaultProps = {\n  data: null,\n}\n\nChartView.propTypes = {\n  data: PropTypes.shape(PropTypes.any),\n}\n\nexport default ChartView;","import React, { Component } from 'react';\nimport JSONPretty from 'react-json-pretty';\nimport ChartView from './ChartView';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './App.scss';\nimport Logo from './favicon.png';\n\nfunction isJsonString(str) {\n  try {\n    if (typeof JSON.parse(str) == \"object\") {\n      return true;\n    }\n  } catch(e) {\n  }\n  return false;\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: null,\n    }\n\n    this.handleFormat = this.handleFormat.bind(this);\n  }\n\n  handleFormat() {\n    const sourceData = document.getElementsByTagName('textarea')[0].value;\n    if (!isJsonString(sourceData)) {\n      alert('JSON数据格式错误，请检查');\n      return;\n    }\n\n    let data = JSON.parse(sourceData);\n    \n    if (Object.keys(data).includes('solutionPath')) {\n      data = data.solutionPath;\n    }\n\n    if (!['nodes', 'edges'].every(key => data[key])) {\n      alert('数据格式不正确，缺少nodes、edges');\n      return;\n    }\n\n    this.setState({\n      data,\n    });\n  }\n\n\n  render() {\n    const { data } = this.state;\n\n    return (\n      <div className=\"App\">\n        <nav className=\"navbar navbar-dark bg-dark\">\n          <a className=\"navbar-brand\" href=\"#\">\n            <img src={Logo} width=\"30\" height=\"30\" style={{ marginRight: 12 }} className=\"d-inline-block align-top\" alt=\"\" />\n            Data visualization for SolutionPath\n          </a>\n        </nav>\n\n        <main>\n          <div style={{ textAlign: 'center' }}>\n            {data && <ChartView\n              data={data}\n            />\n            }\n          </div>\n          <div className=\"container no-padding\">\n            <div className=\"content\">\n            <div className=\"card no-padding\">\n              <textarea\n                className=\"form-control\"\n                placeholder={`\n                  请输入 solution path 数据，格式参考\\n\n                  {\n                    \"throttle\": true,\n                    \"maxWaitingRequest\": 1000,\n                    \"nodes\": {\n                      \"entry\": [{\n                        \"id\": \"UUID1\",\n                        \"name\": \"Entry\",\n                        \"description\": \"\",\n                        \"config\": {\n                          \"outputSlot\": [{\n                            \"key\": \"image\",\n                            \"type\": \"file\"\n                          }]\n                        }\n                      }],\n                      \"exit\": [{\n                        \"id\": \"UUID2\",\n                        \"name\": \"Exit\",\n                        \"description\": \"\",\n                        \"config\": {\n                          \"inputSlot\": [{\n                            \"key\": \"results\"\n                          }]\n                        }\n                      }],\n                      \"code\": [{\n                        \"id\": \"UUID3\",\n                        \"name\": \"code demo\",\n                        \"description\": \"\",\n                        \"type\": \"py\",\n                        \"config\": {\n                          \"fileName\": \"name/of/the/file/include/extension\",\n                          \"inputSlot\": [{\n                            \"key\": \"p1\"\n                          }],\n                          \"outputSlot\": [{}]\n                        }\n                      }],\n                      \"model\": [],\n                      \"static\": []\n                    },\n                    \"edges\": [{\n                        \"from\": {\n                          \"id\": \"UUID1\",\n                          \"slot\": 0\n                        },\n                        \"to\": {\n                          \"id\": \"UUID3\",\n                          \"slot\": 0\n                        }\n                      },\n                      {\n                        \"from\": {\n                          \"id\": \"UUID3\",\n                          \"slot\": 0\n                        },\n                        \"to\": {\n                          \"id\": \"UUID2\",\n                          \"slot\": 0\n                        }\n                      }\n                    ]\n                  }\n                `}\n              />\n            </div>\n            <div style={{ textAlign: 'right' }}>\n              <button className=\"btn btn-primary\" onClick={this.handleFormat}>Start format</button>\n            </div>\n            <div className=\"card no-padding\">\n              <JSONPretty id=\"json-pretty\" data={data}></JSONPretty>\n            </div>\n            </div>\n          </div>\n        </main>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}